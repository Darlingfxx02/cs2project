<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Перенаправление</title>
  <script>
    // Проверяем, не является ли текущий URL страницей 404.html
    if (window.location.pathname.includes('404.html')) {
      // Получаем base href для GitHub Pages
      var segmentCount = 1; // Уровень вложенности для GitHub Pages (cs2project)
      var baseUrl = window.location.pathname.slice(0, window.location.pathname.indexOf('404.html'));
      
      // Перенаправляем на индексную страницу с baseUrl
      var redirectUrl = window.location.protocol + '//' + window.location.hostname + baseUrl;
      
      // Если есть хеш в URL, сохраняем его
      if (window.location.hash) {
        redirectUrl += window.location.hash;
      }
      
      console.log('Перенаправление на: ' + redirectUrl);
      window.location.replace(redirectUrl);
    }
  </script>
</head>
<body>
  <h1>Страница не найдена</h1>
  <p>Вы будете перенаправлены на главную страницу...</p>
</body>
</html> 